<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>XO | تيك تاك تو</title>
  <!-- Arabic Modern Font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg-start:#0f172a;        /* slate-900 */
      --bg-end:#1e293b;          /* slate-800 */
      --primary:#22c55e;         /* green-500 */
      --primary-2:#10b981;       /* emerald-500 */
      --accent:#60a5fa;          /* blue-400 */
      --accent-2:#a78bfa;        /* violet-400 */
      --warning:#f59e0b;         /* amber-500 */
      --danger:#ef4444;          /* red-500 */
      --text:#e5e7eb;            /* gray-200 */
      --muted:#94a3b8;           /* slate-400 */
      --glass:rgba(255,255,255,0.08);
      --glass-strong:rgba(255,255,255,0.16);
      --shadow:0 10px 25px rgba(0,0,0,0.35);
      --radius:18px;
      --radius-sm:12px;
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(1200px circle at 10% 10%, #0ea5e9 0%, transparent 40%),
                  radial-gradient(900px circle at 90% 20%, #a855f7 0%, transparent 40%),
                  linear-gradient(180deg, var(--bg-start), var(--bg-end));
      font-family: "Cairo", system-ui, -apple-system, "Segoe UI", "Tahoma", sans-serif;
      color: var(--text);
    }

    .app {
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr;
      padding-bottom: 70px; /* room for fixed footer */
    }

    /* Top Bar */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.12));
      border-bottom: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    }
    .topbar-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px 20px;
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 10px;
      align-items: center;
    }
    .players {
      display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
    }
    .player-chip {
      display: flex; align-items: center; gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.1);
    }
    .player-chip.active {
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      color: #0b1020;
      font-weight: 700;
      box-shadow: 0 8px 18px rgba(96,165,250,0.35);
    }
    .player-name { white-space: nowrap; }
    .player-score {
      padding: 2px 8px; border-radius: 999px; background: rgba(0,0,0,0.25); font-weight: 700;
    }

    .stats {
      display: flex; gap: 10px; align-items: center; justify-content: center; flex-wrap: wrap;
    }
    .stat {
      padding: 8px 12px; border-radius: 999px; background: var(--glass);
      border: 1px solid rgba(255,255,255,0.1);
    }
    .controls {
      display: flex; gap: 8px; align-items: center; justify-content: end; flex-wrap: wrap;
    }
    .btn {
      border: none; cursor: pointer; padding: 10px 14px;
      border-radius: 999px; font-weight: 700;
      color: #0b1020;
      background: linear-gradient(90deg, var(--primary), var(--primary-2));
      box-shadow: 0 10px 18px rgba(16,185,129,0.35);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn.secondary {
      color: var(--text);
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.1);
      box-shadow: none;
    }
    .btn.warn {
      color: #0b1020;
      background: linear-gradient(90deg, var(--warning), #f97316);
      box-shadow: 0 10px 18px rgba(249,115,22,0.35);
    }
    .btn:hover { transform: translateY(-1px); filter: brightness(1.06); }
    .btn:active { transform: translateY(0); filter: brightness(0.98); }

    /* Screens */
    .screen {
      max-width: 1100px;
      margin: 24px auto;
      padding: 20px;
    }
    .card-panel {
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .start-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .start-title {
      font-size: 1.8rem; font-weight: 700; margin-bottom: 6px;
    }
    .sub { color: var(--muted); margin-bottom: 16px; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .radio {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 10px; border-radius: 999px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      cursor: pointer;
    }
    .inputs {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 12px;
    }
    .input {
      display: flex; flex-direction: column; gap: 6px;
    }
    label { color: var(--muted); font-size: .95rem; }
    input[type="text"] {
      width: 100%; padding: 12px 14px; border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06); color: var(--text);
      outline: none;
    }
    input[type="text"]::placeholder { color: #b8c1d9; }
    .actions { display: flex; gap: 10px; margin-top: 14px; }

    /* Game Area */
    .game-wrap {
      display: grid; grid-template-columns: 280px 1fr; gap: 16px;
    }
    .sidebar {
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      height: fit-content;
    }
    .sidebar h3 { margin: 6px 0 12px; }
    .legend { color: var(--muted); font-size: .95rem; }

    .board {
      display: grid;
      grid-template-columns: repeat(3, minmax(90px, 1fr));
      gap: 12px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      align-content: start;
    }
    .cell {
      aspect-ratio: 1/1;
      display: grid; place-items: center;
      border-radius: var(--radius-sm);
      font-size: 2.2rem; font-weight: 800;
      color: #0b1020;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 8px 14px rgba(96,165,250,0.35);
      cursor: pointer;
